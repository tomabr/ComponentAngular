'use strict';

var module = angular.module('mySearch', []);

module.config(function($locationProvider) {
  $locationProvider.html5Mode(true);
});


angular.module('mySearch', []).run(['$templateCache', function($templateCache) {$templateCache.put('components/favouriteBox/favouriteBox.component.html','<h3 class="favourite__head">Favourite photos</h3>\n\n<input type="button" class="favourite__button" value="Remove all" ng-show="model.photos.length" ng-click="model.removeFavourites()"/>\n\n<div ng-repeat="photo in model.photos track by $index" class="photo">\n  <img ng-src="{{photo.url}}" title="{{photo.title}}" alt="" class="photo__item"/>\n</div>\n');
$templateCache.put('components/searchBox/searchBox.component.html','<div class="search">\n  <form name="searchPhotos">\n    <label> Search term:\n      <input type="text" placeholder="Please insert title" ng-model="model.searchTerm" />\n    </label>\n    <input type="submit" value="Search" ng-click="model.search(model.searchTerm)" class="search__button" />\n    <input type="reset" ng-click="model.reset()" value="Reset" class="search__button --reset" />\n  </form>\n  <div class="preloader" ng-show="model.preloader">\n    <div class="spinner-layer spinner-gren-only">\n      <div class="circle-clipper left">\n        <div class="circle"></div>\n      </div>\n      <div class="gap-patch">\n        <div class="circle"></div>\n      </div>\n      <div class="circle-clipper right">\n        <div class="circle"></div>\n      </div>\n    </div>\n  </div>\n  <div class="result" scroll ng-show="model.photos">\n    <div ng-repeat="photo in model.photos track by $index" class="photo">\n      <img ng-src="{{photo.url}}" title="{{photo.title}}" alt="" ng-click="model.addToFavourite(photo)" class="photo__item --clickable" />\n    </div>\n  </div>\n  <div class="error" ng-show="model.error">\n    <strong>{{model.error.message}}</strong>\n  </div>\n</div>\n<favourite-box class="favourite" photos="model.favouritePhotos" remove="model.removeAll()"></favourite-box>\n');}]);
var module = angular.module('mySearch');

module.component('favouriteBox', {
  templateUrl: "components/favouriteBox/favouriteBox.component.html",
  controllerAs: 'model',
  controller: controllerFavourite,
  bindings:{
  	photos: "=",
    remove: "&"
  }
});

function controllerFavourite(){
	var model = this;

	model.removeFavourites = function(){
    model.remove();
	};
}


var module = angular.module('mySearch');

module.service('flickrService', FlickrService);
module.constant('apiKey', 'f8ce2d65669e201b2b50723818e2b16b');

module.component('searchBox', {
  templateUrl: "components/searchBox/searchBox.component.html",
  controllerAs: 'model',
  controller: controller
});


function controller(flickrService, $window, $document, $sce) {
  var model = this;

  model.searchTerm = undefined;
  var term;
  model.favouritePhotos = [];


  angular.element($window).bind("scroll", function() {
    var move = $window.innerHeight + $window.pageYOffset;
    var height = $($document).height();

    if (move === height) {
      flickrService.get(term).then(function(response) {
        model.photos = response;
      });
    }
  });


  model.search = function(searchTerm) {
    term = searchTerm;
    flickrService.clearPhotos();
    flickrService.get(term).then(function(response) {
      model.photos = response;
    });
  };

  model.removeAll = function(){
    model.favouritePhotos = [];
  };


  model.addToFavourite = function(photo){
    model.favouritePhotos.push(photo);
    model.favouritePhotos = Array.from(new Set(model.favouritePhotos));
  };
}

function FlickrService($http, $q, apiKey, $sce) {
  var apiURL = 'https://api.flickr.com/services/rest/';
  var urlPhotos = [];
  var page = 1;

  return {
    clearPhotos: function() {
      urlPhotos = [];
      page: 1;
    },

    get: function(searchTerm) {
      var params = {
        text: searchTerm,
        method: 'flickr.photos.search',
        api_key: encodeURIComponent(apiKey),
        format: 'json',
        per_page: 40,
        nojsoncallback: 1,
        page: page
      };

      page += 1;

      var url = apiURL + '?' + $.param(params);
      var deferred = $q.defer();
      $http.get(url).then(function(response) {

        var data = response.data;

        if (data.stat === 'fail') {
          return deferred.reject({ message: 'Problem with connection' });
        } else if (data.photos.pages === 0) {
          return deferred.reject({ message: 'Not found photos' });
        } else if (data.photos.page > data.photos.pages) {
          return deferred.reject({ message: 'Not more photos' });
        } else {

          var photos = data.photos.photo;

          angular.forEach(photos, function(photo) {

            var img = $sce.trustAsResourceUrl('https://farm' + photo.farm + '.staticflickr.com/' + photo.server +
              '/' + photo.id + '_' + photo.secret + '_q' + '.jpg');

            var obj = {
              url: img,
              title: photo.title
            };

            urlPhotos.push(obj);
          });

          deferred.resolve(urlPhotos);
        }
      }, function(response) {
        deferred.reject({ message: 'Problem with connection' });
      });

      return deferred.promise;
    }
  };
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsInRlbXBsYXRlQ2FjaGUuanMiLCJjb21wb25lbnRzL2Zhdm91cml0ZUJveC9mYXZvdXJpdGVCb3guY29tcG9uZW50LmpzIiwiY29tcG9uZW50cy9zZWFyY2hCb3gvc2VhcmNoQm94LmNvbXBvbmVudC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNSQTtBQUNBO0FDREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ25CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ215U2VhcmNoJywgW10pO1xuXG5tb2R1bGUuY29uZmlnKGZ1bmN0aW9uKCRsb2NhdGlvblByb3ZpZGVyKSB7XG4gICRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh0cnVlKTtcbn0pO1xuXG4iLCJhbmd1bGFyLm1vZHVsZSgnbXlTZWFyY2gnLCBbXSkucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkgeyR0ZW1wbGF0ZUNhY2hlLnB1dCgnY29tcG9uZW50cy9mYXZvdXJpdGVCb3gvZmF2b3VyaXRlQm94LmNvbXBvbmVudC5odG1sJywnPGgzIGNsYXNzPVwiZmF2b3VyaXRlX19oZWFkXCI+RmF2b3VyaXRlIHBob3RvczwvaDM+XFxuXFxuPGlucHV0IHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImZhdm91cml0ZV9fYnV0dG9uXCIgdmFsdWU9XCJSZW1vdmUgYWxsXCIgbmctc2hvdz1cIm1vZGVsLnBob3Rvcy5sZW5ndGhcIiBuZy1jbGljaz1cIm1vZGVsLnJlbW92ZUZhdm91cml0ZXMoKVwiLz5cXG5cXG48ZGl2IG5nLXJlcGVhdD1cInBob3RvIGluIG1vZGVsLnBob3RvcyB0cmFjayBieSAkaW5kZXhcIiBjbGFzcz1cInBob3RvXCI+XFxuICA8aW1nIG5nLXNyYz1cInt7cGhvdG8udXJsfX1cIiB0aXRsZT1cInt7cGhvdG8udGl0bGV9fVwiIGFsdD1cIlwiIGNsYXNzPVwicGhvdG9fX2l0ZW1cIi8+XFxuPC9kaXY+XFxuJyk7XG4kdGVtcGxhdGVDYWNoZS5wdXQoJ2NvbXBvbmVudHMvc2VhcmNoQm94L3NlYXJjaEJveC5jb21wb25lbnQuaHRtbCcsJzxkaXYgY2xhc3M9XCJzZWFyY2hcIj5cXG4gIDxmb3JtIG5hbWU9XCJzZWFyY2hQaG90b3NcIj5cXG4gICAgPGxhYmVsPiBTZWFyY2ggdGVybTpcXG4gICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIlBsZWFzZSBpbnNlcnQgdGl0bGVcIiBuZy1tb2RlbD1cIm1vZGVsLnNlYXJjaFRlcm1cIiAvPlxcbiAgICA8L2xhYmVsPlxcbiAgICA8aW5wdXQgdHlwZT1cInN1Ym1pdFwiIHZhbHVlPVwiU2VhcmNoXCIgbmctY2xpY2s9XCJtb2RlbC5zZWFyY2gobW9kZWwuc2VhcmNoVGVybSlcIiBjbGFzcz1cInNlYXJjaF9fYnV0dG9uXCIgLz5cXG4gICAgPGlucHV0IHR5cGU9XCJyZXNldFwiIG5nLWNsaWNrPVwibW9kZWwucmVzZXQoKVwiIHZhbHVlPVwiUmVzZXRcIiBjbGFzcz1cInNlYXJjaF9fYnV0dG9uIC0tcmVzZXRcIiAvPlxcbiAgPC9mb3JtPlxcbiAgPGRpdiBjbGFzcz1cInByZWxvYWRlclwiIG5nLXNob3c9XCJtb2RlbC5wcmVsb2FkZXJcIj5cXG4gICAgPGRpdiBjbGFzcz1cInNwaW5uZXItbGF5ZXIgc3Bpbm5lci1ncmVuLW9ubHlcIj5cXG4gICAgICA8ZGl2IGNsYXNzPVwiY2lyY2xlLWNsaXBwZXIgbGVmdFwiPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cImNpcmNsZVwiPjwvZGl2PlxcbiAgICAgIDwvZGl2PlxcbiAgICAgIDxkaXYgY2xhc3M9XCJnYXAtcGF0Y2hcIj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjaXJjbGVcIj48L2Rpdj5cXG4gICAgICA8L2Rpdj5cXG4gICAgICA8ZGl2IGNsYXNzPVwiY2lyY2xlLWNsaXBwZXIgcmlnaHRcIj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjaXJjbGVcIj48L2Rpdj5cXG4gICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuICA8L2Rpdj5cXG4gIDxkaXYgY2xhc3M9XCJyZXN1bHRcIiBzY3JvbGwgbmctc2hvdz1cIm1vZGVsLnBob3Rvc1wiPlxcbiAgICA8ZGl2IG5nLXJlcGVhdD1cInBob3RvIGluIG1vZGVsLnBob3RvcyB0cmFjayBieSAkaW5kZXhcIiBjbGFzcz1cInBob3RvXCI+XFxuICAgICAgPGltZyBuZy1zcmM9XCJ7e3Bob3RvLnVybH19XCIgdGl0bGU9XCJ7e3Bob3RvLnRpdGxlfX1cIiBhbHQ9XCJcIiBuZy1jbGljaz1cIm1vZGVsLmFkZFRvRmF2b3VyaXRlKHBob3RvKVwiIGNsYXNzPVwicGhvdG9fX2l0ZW0gLS1jbGlja2FibGVcIiAvPlxcbiAgICA8L2Rpdj5cXG4gIDwvZGl2PlxcbiAgPGRpdiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm1vZGVsLmVycm9yXCI+XFxuICAgIDxzdHJvbmc+e3ttb2RlbC5lcnJvci5tZXNzYWdlfX08L3N0cm9uZz5cXG4gIDwvZGl2PlxcbjwvZGl2PlxcbjxmYXZvdXJpdGUtYm94IGNsYXNzPVwiZmF2b3VyaXRlXCIgcGhvdG9zPVwibW9kZWwuZmF2b3VyaXRlUGhvdG9zXCIgcmVtb3ZlPVwibW9kZWwucmVtb3ZlQWxsKClcIj48L2Zhdm91cml0ZS1ib3g+XFxuJyk7fV0pOyIsInZhciBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnbXlTZWFyY2gnKTtcblxubW9kdWxlLmNvbXBvbmVudCgnZmF2b3VyaXRlQm94Jywge1xuICB0ZW1wbGF0ZVVybDogXCJjb21wb25lbnRzL2Zhdm91cml0ZUJveC9mYXZvdXJpdGVCb3guY29tcG9uZW50Lmh0bWxcIixcbiAgY29udHJvbGxlckFzOiAnbW9kZWwnLFxuICBjb250cm9sbGVyOiBjb250cm9sbGVyRmF2b3VyaXRlLFxuICBiaW5kaW5nczp7XG4gIFx0cGhvdG9zOiBcIj1cIixcbiAgICByZW1vdmU6IFwiJlwiXG4gIH1cbn0pO1xuXG5mdW5jdGlvbiBjb250cm9sbGVyRmF2b3VyaXRlKCl7XG5cdHZhciBtb2RlbCA9IHRoaXM7XG5cblx0bW9kZWwucmVtb3ZlRmF2b3VyaXRlcyA9IGZ1bmN0aW9uKCl7XG4gICAgbW9kZWwucmVtb3ZlKCk7XG5cdH07XG59XG4iLCJcbnZhciBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnbXlTZWFyY2gnKTtcblxubW9kdWxlLnNlcnZpY2UoJ2ZsaWNrclNlcnZpY2UnLCBGbGlja3JTZXJ2aWNlKTtcbm1vZHVsZS5jb25zdGFudCgnYXBpS2V5JywgJ2Y4Y2UyZDY1NjY5ZTIwMWIyYjUwNzIzODE4ZTJiMTZiJyk7XG5cbm1vZHVsZS5jb21wb25lbnQoJ3NlYXJjaEJveCcsIHtcbiAgdGVtcGxhdGVVcmw6IFwiY29tcG9uZW50cy9zZWFyY2hCb3gvc2VhcmNoQm94LmNvbXBvbmVudC5odG1sXCIsXG4gIGNvbnRyb2xsZXJBczogJ21vZGVsJyxcbiAgY29udHJvbGxlcjogY29udHJvbGxlclxufSk7XG5cblxuZnVuY3Rpb24gY29udHJvbGxlcihmbGlja3JTZXJ2aWNlLCAkd2luZG93LCAkZG9jdW1lbnQsICRzY2UpIHtcbiAgdmFyIG1vZGVsID0gdGhpcztcblxuICBtb2RlbC5zZWFyY2hUZXJtID0gdW5kZWZpbmVkO1xuICB2YXIgdGVybTtcbiAgbW9kZWwuZmF2b3VyaXRlUGhvdG9zID0gW107XG5cblxuICBhbmd1bGFyLmVsZW1lbnQoJHdpbmRvdykuYmluZChcInNjcm9sbFwiLCBmdW5jdGlvbigpIHtcbiAgICB2YXIgbW92ZSA9ICR3aW5kb3cuaW5uZXJIZWlnaHQgKyAkd2luZG93LnBhZ2VZT2Zmc2V0O1xuICAgIHZhciBoZWlnaHQgPSAkKCRkb2N1bWVudCkuaGVpZ2h0KCk7XG5cbiAgICBpZiAobW92ZSA9PT0gaGVpZ2h0KSB7XG4gICAgICBmbGlja3JTZXJ2aWNlLmdldCh0ZXJtKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgIG1vZGVsLnBob3RvcyA9IHJlc3BvbnNlO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuXG4gIG1vZGVsLnNlYXJjaCA9IGZ1bmN0aW9uKHNlYXJjaFRlcm0pIHtcbiAgICB0ZXJtID0gc2VhcmNoVGVybTtcbiAgICBmbGlja3JTZXJ2aWNlLmNsZWFyUGhvdG9zKCk7XG4gICAgZmxpY2tyU2VydmljZS5nZXQodGVybSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgbW9kZWwucGhvdG9zID0gcmVzcG9uc2U7XG4gICAgfSk7XG4gIH07XG5cbiAgbW9kZWwucmVtb3ZlQWxsID0gZnVuY3Rpb24oKXtcbiAgICBtb2RlbC5mYXZvdXJpdGVQaG90b3MgPSBbXTtcbiAgfTtcblxuXG4gIG1vZGVsLmFkZFRvRmF2b3VyaXRlID0gZnVuY3Rpb24ocGhvdG8pe1xuICAgIG1vZGVsLmZhdm91cml0ZVBob3Rvcy5wdXNoKHBob3RvKTtcbiAgICBtb2RlbC5mYXZvdXJpdGVQaG90b3MgPSBBcnJheS5mcm9tKG5ldyBTZXQobW9kZWwuZmF2b3VyaXRlUGhvdG9zKSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIEZsaWNrclNlcnZpY2UoJGh0dHAsICRxLCBhcGlLZXksICRzY2UpIHtcbiAgdmFyIGFwaVVSTCA9ICdodHRwczovL2FwaS5mbGlja3IuY29tL3NlcnZpY2VzL3Jlc3QvJztcbiAgdmFyIHVybFBob3RvcyA9IFtdO1xuICB2YXIgcGFnZSA9IDE7XG5cbiAgcmV0dXJuIHtcbiAgICBjbGVhclBob3RvczogZnVuY3Rpb24oKSB7XG4gICAgICB1cmxQaG90b3MgPSBbXTtcbiAgICAgIHBhZ2U6IDE7XG4gICAgfSxcblxuICAgIGdldDogZnVuY3Rpb24oc2VhcmNoVGVybSkge1xuICAgICAgdmFyIHBhcmFtcyA9IHtcbiAgICAgICAgdGV4dDogc2VhcmNoVGVybSxcbiAgICAgICAgbWV0aG9kOiAnZmxpY2tyLnBob3Rvcy5zZWFyY2gnLFxuICAgICAgICBhcGlfa2V5OiBlbmNvZGVVUklDb21wb25lbnQoYXBpS2V5KSxcbiAgICAgICAgZm9ybWF0OiAnanNvbicsXG4gICAgICAgIHBlcl9wYWdlOiA0MCxcbiAgICAgICAgbm9qc29uY2FsbGJhY2s6IDEsXG4gICAgICAgIHBhZ2U6IHBhZ2VcbiAgICAgIH07XG5cbiAgICAgIHBhZ2UgKz0gMTtcblxuICAgICAgdmFyIHVybCA9IGFwaVVSTCArICc/JyArICQucGFyYW0ocGFyYW1zKTtcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICAkaHR0cC5nZXQodXJsKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cbiAgICAgICAgdmFyIGRhdGEgPSByZXNwb25zZS5kYXRhO1xuXG4gICAgICAgIGlmIChkYXRhLnN0YXQgPT09ICdmYWlsJykge1xuICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5yZWplY3QoeyBtZXNzYWdlOiAnUHJvYmxlbSB3aXRoIGNvbm5lY3Rpb24nIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKGRhdGEucGhvdG9zLnBhZ2VzID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnJlamVjdCh7IG1lc3NhZ2U6ICdOb3QgZm91bmQgcGhvdG9zJyB9KTtcbiAgICAgICAgfSBlbHNlIGlmIChkYXRhLnBob3Rvcy5wYWdlID4gZGF0YS5waG90b3MucGFnZXMpIHtcbiAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucmVqZWN0KHsgbWVzc2FnZTogJ05vdCBtb3JlIHBob3RvcycgfSk7XG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICB2YXIgcGhvdG9zID0gZGF0YS5waG90b3MucGhvdG87XG5cbiAgICAgICAgICBhbmd1bGFyLmZvckVhY2gocGhvdG9zLCBmdW5jdGlvbihwaG90bykge1xuXG4gICAgICAgICAgICB2YXIgaW1nID0gJHNjZS50cnVzdEFzUmVzb3VyY2VVcmwoJ2h0dHBzOi8vZmFybScgKyBwaG90by5mYXJtICsgJy5zdGF0aWNmbGlja3IuY29tLycgKyBwaG90by5zZXJ2ZXIgK1xuICAgICAgICAgICAgICAnLycgKyBwaG90by5pZCArICdfJyArIHBob3RvLnNlY3JldCArICdfcScgKyAnLmpwZycpO1xuXG4gICAgICAgICAgICB2YXIgb2JqID0ge1xuICAgICAgICAgICAgICB1cmw6IGltZyxcbiAgICAgICAgICAgICAgdGl0bGU6IHBob3RvLnRpdGxlXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB1cmxQaG90b3MucHVzaChvYmopO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh1cmxQaG90b3MpO1xuICAgICAgICB9XG4gICAgICB9LCBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICBkZWZlcnJlZC5yZWplY3QoeyBtZXNzYWdlOiAnUHJvYmxlbSB3aXRoIGNvbm5lY3Rpb24nIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH1cbiAgfTtcbn1cbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
